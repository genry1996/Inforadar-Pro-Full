<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OddlyOdds Production</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/logo.png') }}">
</head>

<body>
  <!-- ===== ĞŸÑ€ĞµĞ»Ğ¾Ğ°Ğ´ĞµÑ€ Ñ Ğ»Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿Ğ¾Ğ¼ ===== -->
  <div id="preloader">
    <div class="loader-ring"></div>
    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="OddlyOdds Logo" class="preloader-logo">
  </div>

  <!-- ===== Ğ¨Ğ°Ğ¿ĞºĞ° ===== -->
  <header>
    <h1>
      âš½ ğŸ€ ğŸ® <span>OddlyOdds <span>Production</span></span>
    </h1>

    <div class="header-right">
      <nav>
        <a href="/" class="{{ 'active' if request.path == '/' else '' }}">Soccer</a>
        <a href="/live" class="{{ 'active' if request.path.startswith('/live') else '' }}">Live</a>
        <a href="/matches" class="{{ 'active' if request.path.startswith('/matches') else '' }}">Matches</a>

        <!-- â­ Ğ’Ğ¡Ğ¢ĞĞ’Ğ›Ğ•ĞĞĞĞ¯ ĞšĞĞĞŸĞšĞ ĞĞĞĞœĞĞ›Ğ˜Ğ˜ â­ -->
        <a href="{{ url_for('anomalies_page') }}"
           class="{{ 'active' if request.path.startswith('/anomalies') else '' }}">
           ĞĞ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ğ¸
        </a>
        <!-- â­ ĞšĞĞĞ•Ğ¦ Ğ’Ğ¡Ğ¢ĞĞ’ĞšĞ˜ â­ -->

        <a href="/esports" class="{{ 'active' if request.path.startswith('/esports') else '' }}">Esports</a>
        <a href="/prematch" class="{{ 'active' if request.path.startswith('/prematch') else '' }}">Prematch</a>
      </nav>

      <a class="telegram-btn" href="https://t.me/OddlyOddsProduction" target="_blank" rel="noopener">âœˆï¸ Telegram</a>

      <select class="lang-select" id="lang-select">
        <option value="en">EN</option>
        <option value="ru" selected>RU</option>
      </select>
    </div>
  </header>

  <!-- ===== ĞšĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ ===== -->
  <main>
    {% block content %}{% endblock %}
  </main>

  <!-- ===== Ğ¤ÑƒÑ‚ĞµÑ€ ===== -->
  <footer>
    <div class="contacts">
      <p>ğŸ“© <strong>ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹</strong></p>
      <p>
        âœˆï¸ <a href="https://t.me/OddlyOddsProduction" target="_blank">Telegram</a> |
        ğŸ’¬ <a href="mailto:support@oddlyodds.com">support@oddlyodds.com</a> |
        ğŸ”— <a href="https://github.com/genry1996/Inforadar-Pro-Full" target="_blank">GitHub</a>
      </p>
    </div>
    <p>Â© 2025 OddlyOdds Production. All rights reserved.</p>
  </footer>

  <!-- ===== JS Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ» ===== -->
  <script>
    // ĞŸÑ€ĞµĞ»Ğ¾Ğ°Ğ´ĞµÑ€ Ğ»Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿Ğ°
    window.addEventListener("load", () => {
      const preloader = document.getElementById("preloader");
      if (preloader) {
        preloader.classList.add("hide");
        setTimeout(() => preloader.remove(), 800);
      }
    });

    // Shimmer loader Ğ´Ğ»Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†
    document.addEventListener("DOMContentLoaded", () => {
      const loader = document.getElementById("table-loader");
      const table = document.querySelector("table");

      if (loader && table) {
        loader.style.display = "block";
        table.style.opacity = "0";

        setTimeout(() => {
          loader.style.display = "none";
          table.style.opacity = "1";
        }, 1500);
      }
    });

    // ĞŸĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ·Ñ‹ĞºĞ°
    document.getElementById("lang-select")?.addEventListener("change", (e) => {
      console.log("Language changed to:", e.target.value);
    });
  </script>

  <!-- ===== Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ»Ğ¾Ğ°Ğ´ĞµÑ€ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¾Ğ² ===== -->
  <div id="page-loader">
    <div class="shimmer"></div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const loader = document.getElementById("page-loader");
      loader.style.display = "none";

      document.querySelectorAll("a, button").forEach(el => {
        el.addEventListener("click", e => {
          const href = el.getAttribute("href");
          if (href && href.startsWith("/")) {
            e.preventDefault();
            loader.style.display = "flex";
            setTimeout(() => window.location.href = href, 300);
          }
        });
      });
    });
  </script>

  {% block scripts %}{% endblock %}
</body>
</html>
