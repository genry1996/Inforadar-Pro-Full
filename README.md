# 22BET Anomaly Parser üéØ

–ü–∞—Ä—Å–µ—Ä –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ 22BET —Å –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ–º –∞–Ω–æ–º–∞–ª–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready | **–ü–æ—Ä–æ–≥:** -1% | **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#‚öôÔ∏è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ](#-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
- [–°—Ö–µ–º–∞ –ë–î](#-—Å—Ö–µ–º–∞-–±–¥)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–õ–∏—Ü–µ–Ω–∑–∏—è](#-–ª–∏—Ü–µ–Ω–∑–∏—è)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ
git clone https://github.com/YOUR_USERNAME/Inforadar_Pro.git
cd Inforadar_Pro

# 2. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ë–î

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–∞—Ä—Å–µ—Ä
python parser_22bet_anomaly_detector.py
```

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Python:** 3.8+
- **MySQL:** 5.7+ –∏–ª–∏ 8.0+
- **–û–ó–£:** 512 –ú–ë –º–∏–Ω–∏–º—É–º
- **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç:** —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

### –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

#### 1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/YOUR_USERNAME/Inforadar_Pro.git
cd Inforadar_Pro
```

#### 2Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

**Linux/Mac:**
```bash
python3 -m venv venv
source venv/bin/activate
```

**Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```

#### 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install --upgrade pip
pip install -r requirements.txt
```

#### 4Ô∏è‚É£ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î

```bash
mysql -u root -p < database/schema.sql
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
mysql -u root -p
mysql> CREATE DATABASE inforadar;
mysql> USE inforadar;
mysql> source database/schema.sql;
mysql> exit;
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### .env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:

```bash
cp .env.example .env
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –ó–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|----------|---------|
| `MYSQL_HOST` | localhost | –•–æ—Å—Ç –ë–î |
| `MYSQL_USER` | root | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î |
| `MYSQL_PASSWORD` | your_password | –ü–∞—Ä–æ–ª—å –ë–î |
| `MYSQL_DB` | inforadar | –ò–º—è –ë–î |
| `DETECTION_THRESHOLD` | -1.0 | –ü–æ—Ä–æ–≥ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∞–Ω–æ–º–∞–ª–∏–∏ (%) |
| `UPDATE_INTERVAL` | 60 | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (—Å–µ–∫) |
| `TELEGRAM_BOT_TOKEN` | xxx | –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) |

**–ü—Ä–∏–º–µ—Ä .env:**

```env
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=MySecurePass123
MYSQL_DB=inforadar

DETECTION_THRESHOLD=-1.0
CONFIRMATION_DELAY=5
UPDATE_INTERVAL=60

LOG_LEVEL=INFO
APP_MODE=production
```

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
python parser_22bet_anomaly_detector.py
```

**–í—ã–≤–æ–¥:**

```
2025-12-15 22:09:47,781 | INFO | üöÄ –ü–∞—Ä—Å–µ—Ä 22BET –∑–∞–ø—É—â–µ–Ω
2025-12-15 22:09:48,145 | INFO | üåê –ü—Ä–æ–±—É–µ–º: https://22betluck.com
2025-12-15 22:09:51,784 | INFO | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç: https://22betluck.com
2025-12-15 22:09:51,797 | INFO | üìå –ó–∞–≥—Ä—É–∂–∞–µ–º: https://22betluck.com/line/football/
2025-12-15 22:09:57,327 | INFO | üìä –ù–∞–π–¥–µ–Ω–æ —Å–æ–±—ã—Ç–∏–π: 50
2025-12-15 22:09:57,417 | INFO |  ‚úì Manchester United vs Bournemouth: 1.80 | 4.10 | 3.94
...
```

### –° –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ —Ñ–∞–π–ª

```bash
python parser_22bet_anomaly_detector.py > logs/parser.log 2>&1 &
```

### –° Prometheus –º–µ—Ç—Ä–∏–∫–∞–º–∏

```bash
# –í–∫–ª—é—á–∏—Ç—å –≤ .env
ENABLE_PROMETHEUS=true
PROMETHEUS_PORT=8000

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
python parser_22bet_anomaly_detector.py

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏
curl http://localhost:8000/metrics
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Inforadar_Pro/
‚îú‚îÄ‚îÄ parser_22bet_anomaly_detector.py   # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞—Ä—Å–µ—Ä
‚îú‚îÄ‚îÄ requirements.txt                    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example                        # –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ .gitignore                          # Git –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ README.md                           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îî‚îÄ‚îÄ schema.sql                      # –°—Ö–µ–º–∞ –ë–î MySQL
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ anomalies-monitor.spec.ts       # Playwright —Ç–µ—Å—Ç—ã
‚îÇ
‚îî‚îÄ‚îÄ logs/
    ‚îî‚îÄ‚îÄ parser.log                      # –õ–æ–≥–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

---

## üìä –°—Ö–µ–º–∞ –ë–î

### –¢–∞–±–ª–∏—Ü–∞: `odds_22bet`

–•—Ä–∞–Ω–∏—Ç —Ç–µ–∫—É—â–∏–µ –∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã.

```sql
CREATE TABLE odds_22bet (
  id INT AUTO_INCREMENT PRIMARY KEY,
  event_name VARCHAR(255) NOT NULL,
  sport VARCHAR(100),
  league VARCHAR(100),
  market_type VARCHAR(50) DEFAULT '1X2',
  odd_1 DECIMAL(6,3),
  odd_x DECIMAL(6,3),
  odd_2 DECIMAL(6,3),
  status VARCHAR(50) DEFAULT 'active',
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  UNIQUE KEY unique_event (event_name, market_type),
  INDEX idx_sport (sport),
  INDEX idx_updated (updated_at)
);
```

### –¢–∞–±–ª–∏—Ü–∞: `anomalies_22bet`

–•—Ä–∞–Ω–∏—Ç –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏.

```sql
CREATE TABLE anomalies_22bet (
  id INT AUTO_INCREMENT PRIMARY KEY,
  event_name VARCHAR(255),
  sport VARCHAR(100),
  league VARCHAR(100),
  anomaly_type VARCHAR(50),
  market_type VARCHAR(50),
  before_value DECIMAL(8,3),
  after_value DECIMAL(8,3),
  diff_pct DECIMAL(8,2),
  status VARCHAR(50) DEFAULT 'new',
  comment TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  INDEX idx_type (anomaly_type),
  INDEX idx_sport (sport),
  INDEX idx_created (created_at)
);
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ Playwright —Ç–µ—Å—Ç–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä—ã –¥–ª—è Playwright
playwright install

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
npx playwright test tests/anomalies-monitor.spec.ts

# –° –æ—Ç—á–µ—Ç–æ–º
npx playwright test --reporter=html
```

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ 22BET
curl https://22betluck.com/line/football/

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
mysql -u root -p inforadar -e "SELECT COUNT(*) FROM odds_22bet;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ Prometheus
curl http://localhost:8000/metrics
```

---

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –≤ –ë–î
mysql -u inforadar -p inforadar -e "SELECT COUNT(*) as total_events FROM odds_22bet;"

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–∏
mysql -u inforadar -p inforadar -e "SELECT * FROM anomalies_22bet ORDER BY created_at DESC LIMIT 10;"

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å–ø–æ—Ä—Ç–∞–º
mysql -u inforadar -p inforadar -e "SELECT sport, COUNT(*) FROM odds_22bet GROUP BY sport;"
```

### –õ–æ–≥–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f logs/parser.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep ERROR logs/parser.log

# –ü–æ–∏—Å–∫ –∞–Ω–æ–º–∞–ª–∏–π
grep "–ê–Ω–æ–º–∞–ª–∏—è" logs/parser.log
```

---

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Connection refused

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω–∞ –ª–∏ MySQL
sudo service mysql status

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ .env
cat .env | grep MYSQL
```

### –ü—Ä–æ–±–ª–µ–º–∞: ModuleNotFoundError

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ venv –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt --force-reinstall
```

### –ü—Ä–æ–±–ª–µ–º–∞: 22BET –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
ping 22betluck.com

# –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ .env
USE_PROXY=true
PROXY_SERVER=http://your_proxy:port
```

---

## üìà –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–æ–º–∞–ª–∏–π

–°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã –∞–Ω–æ–º–∞–ª–∏–π:

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ—Ä–æ–≥ |
|-----|---------|--------|
| **ODDS_DROP** | –†–µ–∑–∫–æ–µ –ø–∞–¥–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ | < -1% |
| **ODDS_SPIKE** | –†–µ–∑–∫–∏–π —Ä–æ—Å—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ | > +1% |
| **LIMIT_CUT** | –ü–æ—Ä–µ–∑–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å—Ç–∞–≤–∫–∏ | –ª—é–±–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ |
| **MARKET_REMOVED** | –ú–∞—Ç—á —É–±—Ä–∞–Ω –∏–∑ –ª–∏–Ω–∏–∏ | —Å—Ç–∞—Ç—É—Å changed |
| **MARKET_FROZEN** | –õ–∏–Ω–∏—è –∑–∞–º–æ—Ä–æ–∂–µ–Ω–∞ | timeout > 5 –º–∏–Ω |

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ª–∏—á–Ω—ã—Ö –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö.

---

## üë§ –ê–≤—Ç–æ—Ä

**Your Name**  
GitHub: [@YOUR_USERNAME](https://github.com/YOUR_USERNAME)  
Email: your.email@example.com

---

## ü§ù –í–∫–ª–∞–¥

–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! 
[–°–æ–∑–¥–∞—Ç—å Issue](https://github.com/YOUR_USERNAME/Inforadar_Pro/issues)

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-15  
**–í–µ—Ä—Å–∏—è:** 1.0.0
